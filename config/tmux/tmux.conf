# --- 1. BASIC SETTINGS (Prefix & Shell) ---
unbind C-b
set -g prefix C-a
bind C-a send-prefix

set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-256color:Tc"
set -g default-shell /bin/zsh

# --- 2. MANAGEMENT (Panes & Windows) ---
set -g base-index 1           # Start window numbering at 1
setw -g pane-base-index 1     # Start pane numbering at 1
setw -g mode-keys vi          # Use Vi keys in copy mode
set -g mouse on               # Enable mouse support
set -s escape-time 0          # Zero delay for Esc key (vital for Vim)

# Split panes using | and - (opens in current path)
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# Use arrow keys to move between PANES
bind -n S-Left  select-pane -L
bind -n S-Right select-pane -R
bind -n S-Up    select-pane -U
bind -n S-Down  select-pane -D

bind -n S-n next-window
bind -n S-p previous-window

# Resize panes with H, J, K, L (Repeatable)
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# --- 3. MODERN STATUS BAR (Clean Look) ---
set -g status-position bottom
set -g status-style bg=default,fg=colour136

# Left side: Session name
set -g status-left-length 30
set -g status-left "#[fg=black,bg=blue,bold] #S #[fg=blue,bg=default] "

# Right side: Date and Time
set -g status-right-length 150
set -g status-right "#[fg=colour238]#[fg=white,bg=colour238] %d.%m.%Y #[fg=cyan,bg=colour238]#[fg=black,bg=cyan,bold] %H:%M "

# Inactive window styling
setw -g window-status-style fg=colour244,bg=default
setw -g window-status-format " #I:#W "

# Active window styling
setw -g window-status-current-style fg=black,bg=green,bold
setw -g window-status-current-format " #I:#W #[fg=green,bg=default]"

# --- 4. UTILS ---
set -g history-limit 10000
# Reload config file
bind r source-file ~/.config/tmux/tmux.conf \; display-message "Config reloaded!"
# Enable xterm keys (for better keybinding support)
setw -g xterm-keys on
